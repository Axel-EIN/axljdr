{% extends 'base.html.twig' %}
{% block title %}Archive {{ parent() }}{% endblock %}
{% block body %}

    <main class="container-fluid bg-light">
        <section class="container pb-5">

            <!-- FIL D'ARIANE -->
            <nav class="pt-3">
                <span class="text-muted">
                    <a href="{{ path('aventure') }}"><i class="fas fa-home"></i></a>
                    > <a href="{{ path('empire') }}"><strong>Empire</strong></a>
                    > <a href="{{ path('empire', {'_fragment': 'archives'} ) }}"><strong>Archives</strong></a>
                    > <strong>{{ archive.titre }}</strong>
                </span>
            </nav>

            <!-- ARTICLE -->
            <h1 class="mt-5 relative">
                <strong>{{ archive.titre }}</strong>

                <!-- MJ - ICON BTN - Edit | Delete -->
                {% if app.user and is_granted("ROLE_MJ") %}
                <div class="btn-icons-medium-right-container">
                    <a class="text-danger mx-2" href="{{ path('admin_archive_edit', {id:archive.id}) }}?redirect=archive"><i class="fas fa-edit" alt="Icône Modifier" title="Modifier"></i></a>
                    <a class="text-danger mx-2" href="{{ path('admin_archive_delete', {id:archive.id}) }}?csrf={{ csrf_token('delete' ~ archive.id) }}&redirect=archive" onclick="return confirm('Êtes-vous sûr de vouloir supprimer l'archive : {{ archive.titre }} ?')"><i class="fas fa-trash-alt" alt="Icône Supprimer" title="Supprimer"></i></a>
                </div>
                {% endif %}
                
            </h1>
            <hr>

            <!-- CONTENU -->
            <article class="row">
                <!-- IMAGE -->
                <div class="col-12 text-center">
                    <img class="img-fluid" src="{{ asset(archive.image) }}" alt="Image de l'Archive" />
                </div>
                <div class="col-12">
                    <div class="card pb-4">
                        <div class="card-body">
                            <p class="card-text mt-3 mx-5 text-justify">{{ archive.contenu|raw|nl2br }}</p>
                        </div>
                        {% if archive.auteur is not empty %}
                            <ul class="list-group list-group-flush">
                                <li class="list-group-item">
                                    <strong>Auteur&nbsp;:</strong> {{ archive.auteur.nom }} <strong>{{ archive.auteur.prenom }}</strong> 
                                </li>
                            </ul>
                        {% endif %}
                        {{ include('/parts/separateur-ornament.html.twig') }}
                    </div>
                </div>
            </article>


        </section>
    </main>

{{ include('/parts/modal.html.twig') }}

{% endblock %}
